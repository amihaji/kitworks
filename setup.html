<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Setup User - WE Tools</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
body { background-color: #f8f9fa; }
.table-hover tbody tr:hover { background-color: #f2f2f2; cursor: pointer; }
.actions-col { width: 220px; text-align: center; white-space: nowrap; }
.action-icon { display: inline-flex; justify-content: center; align-items: center; width: 25px; height: 25px; opacity: 0; transition: opacity 0.2s; margin: 0 5px; cursor: pointer; color: #6c757d; border-radius: 50%; padding: 4px; }
tr:hover .action-icon { opacity: 1; }
.action-icon:hover { color: red; background-color: #e0e0e0; }
.sticky-header th { position: sticky; top: 0; background-color: #003366; color: white; z-index: 2; }
.title-box { background-color: #003366; color: white; padding: 10px 15px; border-radius: 5px; display: flex; align-items: center; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
.title-box i { margin-right: 10px; }
.button-box { background: white; border-radius: 5px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); padding: 10px; margin: 15px 0; }
.btn-group-vertical-responsive { display: flex; flex-direction: row; gap: 10px; }
@media (max-width: 576px) {
    .btn-group-vertical-responsive { flex-direction: column; }
    .btn-group-vertical-responsive button, .btn-group-vertical-responsive a { width: 100% !important; }
}
.table-box { background: white; border-radius: 5px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); padding: 10px; }
.table-wrapper { max-height: 450px; overflow-y: auto; }
</style>
</head>
<body class="p-2 p-sm-3">
<div class="container">

<div class="title-box mb-3">
    <i class="fas fa-user-cog fa-lg"></i>
    <h6 class="mb-0">Setup User</h6>
</div>

<div class="button-box d-flex justify-content-between align-items-center btn-group-vertical-responsive">
    <button class="btn btn-primary" id="addUserButton"><i class="fas fa-plus"></i> Add User</button>
    <a href="https://amihaji.github.io/kitworks/index.html" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Close</a>
</div>

<div class="table-box">
    <div class="table-wrapper">
        <table class="table table-hover table-striped table-bordered align-middle text-center">
            <thead class="sticky-header">
                <tr>
                    <th>User ID</th>
                    <th>Nama</th>
                    <th>Email</th>
                    <th>HP</th>
                    <th>Pass</th>
                    <th>Level</th>
                    <th>Salah</th>
                    <th>Login</th>
                    <th>Setting</th>
                    <th>FLC</th>
                    <th>EstiH</th>
                    <th>WE</th>
                    <th>Followup</th>
                    <th>CRM</th>
                    <th class="actions-col">Aksi</th>
                </tr>
            </thead>
            <tbody id="userTableBody"><tr><td colspan="15">Memuat data...</td></tr></tbody>
        </table>
    </div>
</div>
</div>

<!-- Modal Add/Edit -->
<div class="modal fade" id="userModal" tabindex="-1" aria-hidden="true">
<div class="modal-dialog">
<form id="userForm" class="modal-content">
    <div class="modal-header" style="background-color:#003366; color:white;">
        <h6 class="modal-title">Tambah User</h6>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body">
        <input type="hidden" id="mode" value="add">
        <div class="mb-2"><label>User ID</label><input type="text" id="userId" class="form-control" required></div>
        <div class="mb-2"><label>Nama User</label><input type="text" id="userName" class="form-control" required></div>
        <div class="mb-2"><label>Email</label><input type="email" id="userEmail" class="form-control" required></div>
        <div class="mb-2"><label>HP</label><input type="text" id="userHP" class="form-control" required></div>
        <div class="mb-2"><label>Password</label><input type="text" id="userPass" class="form-control" required></div>
        <div class="mb-2"><label>Level</label>
            <select id="userLevel" class="form-select" required>
                <option value="Admin">Admin</option>
                <option value="Member">Member</option>
                <option value="User">User</option>
            </select>
        </div>
        <div class="mb-2"><label>Salah</label><input type="number" id="userSalah" class="form-control" value="0" min="0" max="3" required></div>
        <div class="mb-2"><label>Hak Akses (Y/N)</label><div class="row g-2">
            <div class="col"><input type="text" id="aksesLogin" class="form-control" placeholder="Login" maxlength="1" required></div>
            <div class="col"><input type="text" id="aksesSetting" class="form-control" placeholder="Setting" maxlength="1" required></div>
            <div class="col"><input type="text" id="aksesFLC" class="form-control" placeholder="FLC" maxlength="1" required></div>
            <div class="col"><input type="text" id="aksesEstiH" class="form-control" placeholder="EstiH" maxlength="1" required></div>
            <div class="col"><input type="text" id="aksesWE" class="form-control" placeholder="WE" maxlength="1" required></div>
            <div class="col"><input type="text" id="aksesFollowup" class="form-control" placeholder="Followup" maxlength="1" required></div>
            <div class="col"><input type="text" id="aksesCRM" class="form-control" placeholder="CRM" maxlength="1" required></div>
        </div></div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Simpan</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
    </div>
</form>
</div>
</div>

<script src="setup_logic.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
